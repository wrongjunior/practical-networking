
# Задание: Обнаружение копий себя в локальной сети

## Описание задачи

Цель этого задания — разработать приложение, которое может обнаруживать свои копии в локальной сети. Это достигается с помощью multicast UDP сообщений. Приложение должно:
- Отслеживать появление и исчезновение других копий себя.
- Обновлять список "живых" копий приложения и выводить их IP-адреса.
- Работать как в IPv4, так и в IPv6 сетях, автоматически выбирая подходящий протокол на основе переданного multicast-адреса.

### Основная задача:
- Приложение должно присоединяться к multicast-группе и отправлять/принимать сообщения.
- В случае появления новой копии приложения или её исчезновения — обновлять и отображать список активных IP-адресов других копий.

### Параметры:
- Multicast-адрес передаётся в приложение как параметр командной строки.
- Приложение должно поддерживать работу с адресами как в формате IPv4, так и IPv6.

---

## Описание подхода к решению

### Multicast и UDP
Мы будем использовать протокол UDP для отправки и получения сообщений, так как он подходит для таких задач, как обнаружение устройств в сети. UDP позволяет передавать сообщения без установки соединения, а multicast позволяет передавать сообщения сразу нескольким устройствам в группе.

### Присоединение к Multicast-группе
Приложение будет подписываться на multicast-группу с указанным адресом. Это означает, что оно будет слушать входящие сообщения, отправленные на этот multicast-адрес.

### Обмен сообщениями
Приложение будет периодически отправлять UDP сообщение, которое содержит информацию о его наличии (например, уникальный идентификатор). Остальные копии приложения, подписанные на эту же группу, будут принимать это сообщение и добавлять отправителя в список "живых" копий.

### Отслеживание появления и исчезновения
Приложение будет хранить список IP-адресов "живых" копий. Если приложение не получает сообщение от копии в течение определённого времени, оно будет считать, что копия исчезла, и удалит её из списка. В случае появления новой копии, она добавляется в список.

### IPv4 и IPv6
Приложение должно автоматически определять, использовать ли IPv4 или IPv6, в зависимости от переданного multicast-адреса. Это позволит работать в сетях как с IPv4, так и с IPv6.

### Пример работы
1. Запускается несколько копий приложения в локальной сети.
2. Каждая копия отправляет сообщение о своём существовании в multicast-группу.
3. Приложение получает сообщения от других копий, добавляет их в список и периодически выводит актуальный список "живых" копий.
4. Если копия исчезает (например, закрывается), она удаляется из списка после истечения времени ожидания.

---

## Как запускать приложение

1. Передать multicast-адрес при запуске программы. Это может быть IPv4 или IPv6 адрес в зависимости от сети.
2. Программа начнёт отслеживать появление и исчезновение других копий, выводя список их IP-адресов.

### Пример:
```
./network-copies 224.0.0.1
```

В этом примере приложение будет использовать адрес multicast-группы 224.0.0.1 для обнаружения других копий в сети.

