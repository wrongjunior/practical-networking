
# Задание: Передача файла по TCP с подсчётом скорости передачи данных

## Описание задачи

Задача заключается в разработке протокола передачи произвольного файла с одного компьютера на другой с помощью TCP. Клиент и сервер должны взаимодействовать по протоколу TCP и обеспечивать передачу данных с подсчётом скорости приёма и передачи.

## Основные этапы выполнения:

1. **Сервер**:
    - Принимает номер порта для ожидания входящих соединений.
    - Принимает соединения от клиента и сохраняет файл, отправленный клиентом, в директорию `uploads`.
    - Отслеживает скорость приёма данных и выводит её в консоль каждые 3 секунды.
    - Проверяет корректность переданных данных (имя файла и его размер) после получения.
    - Работает параллельно с несколькими клиентами, используя потоки (POSIX threads или аналоги).
    - В случае ошибки разрывает соединение с клиентом, продолжая обслуживание других клиентов.

2. **Клиент**:
    - Передаёт имя и размер файла, который требуется отправить серверу.
    - Отправляет файл с использованием TCP.
    - После завершения передачи сообщает серверу об успешной отправке файла и закрывает соединение.

## Детали реализации:

- Клиент и сервер могут быть реализованы на разных машинах, поддерживающих TCP/IP.
- Файл сохраняется на сервере в папке `uploads`.
- Сервер должен выводить скорость приёма данных каждые 3 секунды и общую среднюю скорость по завершении передачи.
- Сервер должен поддерживать многопоточность для одновременной работы с несколькими клиентами.
- Клиент завершает передачу файла, закрывает соединение и сообщает об успехе.

## Запуск программы:

### Сервер:
1. Компилируйте и запускайте сервер с указанием порта:
   ```bash
   ./server <номер_порта>
   ```

### Клиент:
1. Запускайте клиент с указанием пути к файлу и адреса сервера:
   ```bash
   ./client <путь_к_файлу> <адрес_сервера> <номер_порта>
   ```

## Структура проекта:

```bash
lab2_tcp_file_transfer/
│
├── server/                   # Каталог с реализацией сервера
│   ├── main.go                # Исходный код сервера
│   └── ...
│
├── client/                   # Каталог с реализацией клиента
│   ├── main.go                # Исходный код клиента
│   └── ...
│
├── uploads/                  # Директория для хранения переданных файлов на сервере
│   └── ...                   # Файлы, переданные серверу
│
├── README.md                 # Описание лабораторной работы
└── ...
```

## Примечания:

- В директории `uploads` должны сохраняться все файлы, переданные серверу.
- В случае возникновения ошибок сервер должен корректно завершить соединение с клиентом и освободить ресурсы.
- Клиент должен корректно обрабатывать ошибки передачи файла и уведомлять пользователя о результате передачи.
